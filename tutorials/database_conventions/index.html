<!DOCTYPE html>
<html lang='en' dir='auto'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='These are INBO database conventions. This page is intended for those who design (MS SQL Server) databases for their project.'>
<meta name='theme-color' content='#c04384'>

<meta property='og:title' content='Database conventions (MS SQL Server) • Gert Van Spaendonk'>
<meta property='og:description' content='These are INBO database conventions. This page is intended for those who design (MS SQL Server) databases for their project.'>
<meta property='og:url' content='/tutorials/database_conventions/'>
<meta property='og:site_name' content='INBO Tutorials'>
<meta property='og:type' content='article'><meta property='article:section' content='tutorials'><meta property='article:tag' content='database'><meta property='article:tag' content='styleguide'><meta property='article:published_time' content='2019-07-04T00:00:00Z'/><meta property='article:modified_time' content='2019-07-04T00:00:00Z'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.88.1" />

  <title>Database conventions (MS SQL Server) • Gert Van Spaendonk</title>
  <link rel='canonical' href='/tutorials/database_conventions/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.ab98e12b.css'><link rel='stylesheet' href='/css/custom.css'><style>
:root{--color-accent:#c04384;}
</style>

  

</head>
<body class='page type-tutorials has-sidebar'>

  <div class='site'><div id='sidebar' class='sidebar'>
  <a class='screen-reader-text' href='#main-menu'>Skip to Main Menu</a>

  <div class='container'><section class='widget widget-about sep-after'>
  <header>
    
    <div class='logo'>
      <a href='/'>
        <img src='/images/logo.png'>
      </a>
    </div>
    
    <h2 class='title site-title '>
      <a href='/'>
       
      </a>
    </h2>
    <div class='desc'>
    
    </div>
  </header>

</section>
<section class='widget widget-search sep-after'>
  <header>
    <h4 class='title widget-title'> </h4>
  </header>

  <form action='/search' id='search-form' class='search-form'>
    <label>
      <span class='screen-reader-text'>Search</span>
      <input id='search-term' class='search-term' type='search' name='q' placeholder='Search&hellip;'>
    </label></form>

</section>
<section class='widget widget-sidebar_menu sep-after'><nav id='sidebar-menu' class='menu sidebar-menu' aria-label='Sidebar Menu'>
    <div class='container'>
      <ul><li class='item'>
  <a href='/'>Home</a></li><li class='item'>
  <a href='/articles/'>Articles</a></li><li class='item has-current'>
  <a href='/tutorials/'>Tutorials</a></li><li class='item'>
  <a href='/create_tutorial/'>Create tutorial</a></li><li class='item has-children'>
  <a href='/installation/'>Installation</a><button class='sub-menu-toggler'>
    <span class='screen-reader-text'>expand sub menu</span>
    <span class='sign'></span>
  </button>

  <ul class='sub-menu'><li class='item'>
  <a href='/installation/administrator/'>For admins</a></li><li class='item'>
  <a href='/installation/user/'>For users</a></li></ul></li><li class='item'>
  <a href='/categories/'>Categories</a></li><li class='item'>
  <a href='https://github.com/inbo/tutorials'>Repository</a></li></ul>
    </div>
  </nav>

</section><section class='widget widget-taxonomy_cloud sep-after'>
  <header>
    <h4 class='title widget-title'>Tags</h4>
  </header>

  <div class='container list-container'>
  <ul class='list taxonomy-cloud no-shuffle'><li>
        <a href='/tags/analysis/' style='font-size:1.0512820512820513em'>analysis</a>
      </li><li>
        <a href='/tags/analysis-of-variance/' style='font-size:1em'>analysis of variance</a>
      </li><li>
        <a href='/tags/api/' style='font-size:1.0128205128205128em'>api</a>
      </li><li>
        <a href='/tags/bibliography/' style='font-size:1.0128205128205128em'>bibliography</a>
      </li><li>
        <a href='/tags/biodiversity/' style='font-size:1.0128205128205128em'>biodiversity</a>
      </li><li>
        <a href='/tags/biorad/' style='font-size:1em'>bioRad</a>
      </li><li>
        <a href='/tags/bookdown/' style='font-size:1.0128205128205128em'>bookdown</a>
      </li><li>
        <a href='/tags/brms/' style='font-size:1em'>brms</a>
      </li><li>
        <a href='/tags/checklist/' style='font-size:1.0256410256410255em'>checklist</a>
      </li><li>
        <a href='/tags/ci/' style='font-size:1.0128205128205128em'>ci</a>
      </li><li>
        <a href='/tags/coding-club/' style='font-size:1em'>coding club</a>
      </li><li>
        <a href='/tags/csl/' style='font-size:1.0128205128205128em'>csl</a>
      </li><li>
        <a href='/tags/data/' style='font-size:1.0256410256410255em'>data</a>
      </li><li>
        <a href='/tags/database/' style='font-size:1.0512820512820513em'>database</a>
      </li><li>
        <a href='/tags/development/' style='font-size:1.0128205128205128em'>development</a>
      </li><li>
        <a href='/tags/dplyr/' style='font-size:1em'>dplyr</a>
      </li><li>
        <a href='/tags/e-book/' style='font-size:1em'>e-book</a>
      </li><li>
        <a href='/tags/effectclass/' style='font-size:1.0256410256410255em'>effectclass</a>
      </li><li>
        <a href='/tags/endnote/' style='font-size:1em'>endnote</a>
      </li><li>
        <a href='/tags/etn/' style='font-size:1em'>etn</a>
      </li><li>
        <a href='/tags/explorative-data-analysis/' style='font-size:1em'>explorative data analysis</a>
      </li><li>
        <a href='/tags/frictionless/' style='font-size:1em'>frictionless</a>
      </li><li>
        <a href='/tags/gbif/' style='font-size:1.0128205128205128em'>gbif</a>
      </li><li>
        <a href='/tags/generalized-linear-regression/' style='font-size:1.0128205128205128em'>generalized linear regression</a>
      </li><li>
        <a href='/tags/ggplot2/' style='font-size:1.0128205128205128em'>ggplot2</a>
      </li><li>
        <a href='/tags/gis/' style='font-size:1.1282051282051282em'>gis</a>
      </li><li>
        <a href='/tags/git/' style='font-size:1.1282051282051282em'>git</a>
      </li><li>
        <a href='/tags/gitbook/' style='font-size:1.0128205128205128em'>gitbook</a>
      </li><li>
        <a href='/tags/github/' style='font-size:1.0384615384615385em'>github</a>
      </li><li>
        <a href='/tags/google/' style='font-size:1.0128205128205128em'>google</a>
      </li><li>
        <a href='/tags/grids/' style='font-size:1em'>grids</a>
      </li><li>
        <a href='/tags/gwlogger/' style='font-size:1.0384615384615385em'>gwloggeR</a>
      </li><li>
        <a href='/tags/inbodb/' style='font-size:1.0256410256410255em'>inbodb</a>
      </li><li>
        <a href='/tags/inbomd/' style='font-size:1.0384615384615385em'>INBOmd</a>
      </li><li>
        <a href='/tags/inborutils/' style='font-size:1.0384615384615385em'>inborutils</a>
      </li><li>
        <a href='/tags/inla/' style='font-size:1.0256410256410255em'>INLA</a>
      </li><li>
        <a href='/tags/inlabru/' style='font-size:1em'>inlabru</a>
      </li><li>
        <a href='/tags/inlatools/' style='font-size:1.0256410256410255em'>inlatools</a>
      </li><li>
        <a href='/tags/installation/' style='font-size:1.1153846153846154em'>installation</a>
      </li><li>
        <a href='/tags/literature/' style='font-size:1.0512820512820513em'>literature</a>
      </li><li>
        <a href='/tags/maps/' style='font-size:1.0769230769230769em'>maps</a>
      </li><li>
        <a href='/tags/markdown/' style='font-size:1.0256410256410255em'>markdown</a>
      </li><li>
        <a href='/tags/mendeley/' style='font-size:1em'>mendeley</a>
      </li><li>
        <a href='/tags/mgrs/' style='font-size:1em'>mgrs</a>
      </li><li>
        <a href='/tags/mixed-model/' style='font-size:1.064102564102564em'>mixed model</a>
      </li><li>
        <a href='/tags/mixed-models/' style='font-size:1em'>mixed models</a>
      </li><li>
        <a href='/tags/multivariate-statistics/' style='font-size:1em'>multivariate statistics</a>
      </li><li>
        <a href='/tags/n2khab/' style='font-size:1.0512820512820513em'>n2khab</a>
      </li><li>
        <a href='/tags/open-science/' style='font-size:1.0897435897435896em'>open science</a>
      </li><li>
        <a href='/tags/packages/' style='font-size:1.0384615384615385em'>packages</a>
      </li><li>
        <a href='/tags/pandoc/' style='font-size:1.0128205128205128em'>pandoc</a>
      </li><li>
        <a href='/tags/python/' style='font-size:1em'>python</a>
      </li><li>
        <a href='/tags/r/' style='font-size:2em'>r</a>
      </li><li>
        <a href='/tags/renv/' style='font-size:1em'>renv</a>
      </li><li>
        <a href='/tags/reports/' style='font-size:1.0128205128205128em'>reports</a>
      </li><li>
        <a href='/tags/rgbif/' style='font-size:1.064102564102564em'>rgbif</a>
      </li><li>
        <a href='/tags/rmarkdown/' style='font-size:1.0256410256410255em'>rmarkdown</a>
      </li><li>
        <a href='/tags/rstudio/' style='font-size:1.0512820512820513em'>rstudio</a>
      </li><li>
        <a href='/tags/spreadsheet/' style='font-size:1em'>spreadsheet</a>
      </li><li>
        <a href='/tags/sql/' style='font-size:1em'>SQL</a>
      </li><li>
        <a href='/tags/stan/' style='font-size:1em'>stan</a>
      </li><li>
        <a href='/tags/styleguide/' style='font-size:1.0384615384615385em'>styleguide</a>
      </li><li>
        <a href='/tags/tidyverse/' style='font-size:1.0384615384615385em'>tidyverse</a>
      </li><li>
        <a href='/tags/uncertainty/' style='font-size:1.0128205128205128em'>uncertainty</a>
      </li><li>
        <a href='/tags/utm/' style='font-size:1em'>utm</a>
      </li><li>
        <a href='/tags/version-control/' style='font-size:1.1025641025641026em'>version control</a>
      </li><li>
        <a href='/tags/vignette/' style='font-size:1.4871794871794872em'>vignette</a>
      </li><li>
        <a href='/tags/visual-markdown-editing/' style='font-size:1em'>visual markdown editing</a>
      </li><li>
        <a href='/tags/vmm/' style='font-size:1em'>vmm</a>
      </li><li>
        <a href='/tags/waterinfo/' style='font-size:1.0256410256410255em'>wateRinfo</a>
      </li><li>
        <a href='/tags/watina/' style='font-size:1.0256410256410255em'>watina</a>
      </li><li>
        <a href='/tags/webservice/' style='font-size:1.0384615384615385em'>webservice</a>
      </li><li>
        <a href='/tags/windows/' style='font-size:1em'>windows</a>
      </li><li>
        <a href='/tags/zenodo/' style='font-size:1em'>zenodo</a>
      </li><li>
        <a href='/tags/zotero/' style='font-size:1.0128205128205128em'>zotero</a>
      </li></ul>
</div>


</section>
<section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'>
    <ul><li>
        <a href='https://github.com/inbo' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://twitter.com/INBOVlaanderen' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Twitter account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>
</a>
      </li><li>
        <a href='https://facebook.com/INBOVlaanderen' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Facebook account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
  
</svg>
</a>
      </li></ul>
  </nav>
</section>
<section class='widget widget-build_time sep-after'>
  <p><small>Built on: Fri Dec 6 10:14:45 UTC 2024</small></p>
</section></div>

  <div class='sidebar-overlay'></div>
</div><div class='main'><a class='screen-reader-text' href='#content'>Skip to Content</a>

<button id='sidebar-toggler' class='sidebar-toggler' aria-controls='sidebar'>
  <span class='screen-reader-text'>Toggle Sidebar</span>
  <span class='open'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="3" y1="12" x2="21" y2="12" />
  <line x1="3" y1="6" x2="21" y2="6" />
  <line x1="3" y1="18" x2="21" y2="18" />
  
</svg>
</span>
  <span class='close'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="18" y1="6" x2="6" y2="18" />
  <line x1="6" y1="6" x2="18" y2="18" />
  
</svg>
</span>
</button><div class='header-widgets'>
        <div class='container'>
    
    <style>.widget-breadcrumbs li:after{content:'\2f '}</style>
  <section class='widget widget-breadcrumbs sep-after'>
    <nav id='breadcrumbs'>
      <ol><li><a href='/'>Home</a></li><li><a href='/tutorials/'>Tutorials</a></li><li><span>Database conventions (MS SQL Server)</span></li></ol>
    </nav>
  </section></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>INBO Tutorials</p><p class='desc site-desc'></p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Database conventions (MS SQL Server)</h1>
      
<p class='desc'>These are INBO database conventions. This page is intended for those who design (MS SQL Server) databases for their project.</p>


    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2019-07-04T00:00:00Z'>2019, Jul 04</time>
</span>

  <span class='byline'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M21,21V20c0-2.76-4-5-9-5s-9,2.24-9,5v1"/>
  <path d="M16,6.37A4,4,0,1,1,12.63,3,4,4,0,0,1,16,6.37Z"/>
  
</svg>
<span class='screen-reader-text'> by </span><a href='/authors/gertvanspaendonk'>Gert Van Spaendonk</a>, <a href='/authors/joloos'>Jo Loos</a>, <a href='/authors/fredericpiesschaert'>Frederic Piesschaert</a></span>
  <br/>
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
10 mins read
</span>


  <span class="github-link">

    

        

        
            
        

        
            <a href='https://github.com/inbo/tutorials/edit/master/content/tutorials/database_conventions/index.md'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
Improve this page</a>
        

        
    
</span>

</div>


  </div>
</header>

  
  

  <div class='container entry-content'><h1 id="general">General<a href="#general" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>All SQL objects are prefixed, except for databases, schemas, tables and columns and users/logins.</li>
<li>The prefixes used depend on the type of object:</li>
</ul>
<table>
<thead>
<tr>
<th>Prefix</th>
<th>Object type</th>
</tr>
</thead>
<tbody>
<tr>
<td>PK_</td>
<td>primary key constraint</td>
</tr>
<tr>
<td>FK_</td>
<td>foreign key constraint</td>
</tr>
<tr>
<td>CU_</td>
<td>unique key constraint</td>
</tr>
<tr>
<td>CC_</td>
<td>check constraint</td>
</tr>
<tr>
<td>CD_</td>
<td>default</td>
</tr>
<tr>
<td>IN_</td>
<td>index</td>
</tr>
<tr>
<td>VW_</td>
<td>view</td>
</tr>
<tr>
<td>TR_</td>
<td>trigger</td>
</tr>
<tr>
<td>SQ_</td>
<td>sequence</td>
</tr>
<tr>
<td>DR_</td>
<td>database role</td>
</tr>
</tbody>
</table>
<ul>
<li>choose English or Dutch for the naming of objects and be consistent</li>
</ul>
<h1 id="database">Database<a href="#database" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>The database is created by the DBA.</li>
<li>Database name is provided by the DBA.</li>
<li>For a list of DB&rsquo;s following the new name conventions, see List of databases.</li>
</ul>
<h1 id="schemas">Schemas<a href="#schemas" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>dbo only.</li>
<li>unless special requirements.</li>
</ul>
<h1 id="tables">Tables<a href="#tables" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Meaningful name .</li>
<li>CamelCase.</li>
<li>Singular</li>
<li>No pre- or suffixes.</li>
<li>[ a-b ], [ A-B ], [ 0-9 ].</li>
</ul>
<h1 id="columns">Columns<a href="#columns" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Meaningful name.</li>
<li>CamelCase.</li>
<li>No pre- or suffixes.</li>
<li>[ a-z ], [ A-Z ], [ 0-9 ] and [ -,_ ] if necessary.</li>
<li>specify the kind of column at the end of the name in case of potential doubt, e.g. CreateUser, UpdateDate, BiotopeKey, TaxonCode, SpeciesID.</li>
<li>do not repeat the table name in the column name; a column only exists in the context of the table.</li>
<li>primary key column
<ul>
<li>always 1 per table,</li>
<li>non functional,</li>
<li>datatype: int or bigint, not null, identity (autonumber),</li>
<li>name: ID</li>
</ul>
</li>
<li>foreign key column
<ul>
<li>name: table name + primary key column (ID) of column to which the foreign key refers, e.g. Measurement.SpeciesID refers to Species.ID</li>
<li>clearify in case of multiple relations between 2 tables, e.g. Observation.ObserverPersonID and Observation.ValidatorPersonID both refer to Person.ID</li>
</ul>
</li>
<li>minimum columns in each table (see Code Snippets):
<ul>
<li>ID</li>
<li>CreateUser</li>
<li>CreateDate</li>
<li>UpdateUser</li>
<li>UpdateDate</li>
<li>RV</li>
</ul>
</li>
</ul>
<h1 id="primary-key-constraints">Primary key constraints<a href="#primary-key-constraints" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>always.</li>
<li>single column, non-composite.</li>
<li>non functional.</li>
<li>naming: PK_&lt;table name&gt;, e.g.:
<ul>
<li>PK_Species for Species table,</li>
<li>PK_Measurement for Measurement table</li>
</ul>
</li>
</ul>
<h1 id="foreign-key-constraints">Foreign key constraints<a href="#foreign-key-constraints" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>use db referential integrity when necessary and when possible, do not rely on application logic solely.</li>
<li>single column, non composite.</li>
<li>naming: FK_&lt;referring table name&gt;_&lt;referred table name&gt;(_&lt;discriminator&gt;), e.g.:
<ul>
<li>FK_Measurement_Species for foreign key from Measurement table to Species table,</li>
<li>FK_Observation_Person_Observer and FK_Observation_Person_Validator for foreign keys from Observation table to Person table ,</li>
</ul>
</li>
<li>good practice to add an index on foreign key columns; this is not autmatically done; use the index naming logic: IN_&lt;table name&gt;_&lt;specification&gt;</li>
</ul>
<h1 id="unique-key-constraints">Unique key constraints<a href="#unique-key-constraints" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>always use constraints instead of indexes to enforce uniqueness.</li>
<li>can be composite.</li>
<li>naming: CU_&lt;table name&gt;_&lt;functional description&gt;, e.g.:
<ul>
<li>CU_ObservationPerson_ObservationPerson for unique constraint on ObservationID and PersonID columns in ObservationPerson table,</li>
<li>CU_SampleOnvolledigReden_SampleOnvolledigReden for unique constraint on SampleID and OnvolledigRedenID columns in SampleOnvolledigReden table.</li>
</ul>
</li>
</ul>
<h1 id="check-constraints">Check constraints<a href="#check-constraints" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>not often used, it might be better to have this kind of logic in the business layer.</li>
<li>naming CC_&lt;table name&gt;_&lt;functional description&gt;, e.g.:
<ul>
<li>CC_Measurement_PositiveNumber for check constraint that validates the Number column in Measurement table being positive.</li>
</ul>
</li>
</ul>
<h1 id="defaults">Defaults<a href="#defaults" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>always provide a default value for bit-columns.</li>
<li>always provide a default value for standard columns CreateDate an CreateUser, resp GETDATE() and SUSER_NAME().</li>
<li>naming: CD_&lt;table name&gt;_&lt;column name&gt;, e.g.
<ul>
<li>CD_Measurement_CreateDate for default value on CreateDate column in Measurement table.</li>
</ul>
</li>
<li>This code example adds defaults for columns CreateUser and CreateDate of table Method:</li>
</ul>
<pre tabindex="0"><code> ALTER TABLE Method ADD
     CONSTRAINT CD_Method_CreateUser  DEFAULT (SUSER_NAME()) FOR CreateUser       
   , CONSTRAINT CD_Method_CreateDate  DEFAULT (GETDATE()) FOR CreateDate
</code></pre><h1 id="triggers">Triggers<a href="#triggers" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>only used for low level database logic.</li>
<li>naming: TR_&lt;table name&gt;_&lt;trigger action&gt;, where trigger action can be AU (after update), AI (after insert), AD (after delete) or any combination (A(U)(I)(D)) or IO (instead of), e.g.
<ul>
<li>TR_Measurement_AU for after update trigger on Measurement table .</li>
</ul>
</li>
<li>This code example creates an after update trigger for table Measurement. Columns UpdateDate and UpdateUser are updated on each update:</li>
</ul>
<pre tabindex="0"><code>CREATE TRIGGER [dbo].[TR_Measurement_AU]
 ON [dbo].[Measurement]
 AFTER UPDATE
 AS
 BEGIN
  SET NOCOUNT ON;
  UPDATE t
  SET t.UpdateDate = GETDATE()
    , t.UpdateUser = SUSER_SNAME()
  FROM inserted i
  INNER JOIN Measurement t
    ON t.ID = i.ID;
 END
</code></pre><h1 id="indexes">Indexes<a href="#indexes" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Indexes are used to speed up lookups and sorting.</li>
<li>Do not use indexes to enforce uniqueness; use unique key constraint instead, which creates an index itself. Exception to this: when uniqueness is required in combination with a filtering criterium.</li>
<li>As a rule of thumb create an index on each foreign key column.</li>
<li>As a rule of thumb make sure that the primary key constraint uses a clustered index.</li>
<li>Clustered indexes are created on DATA filegroup; non-clustered indexes on INDEXES filegroup.</li>
<li>Leave the rest of the indexing up to the DBA. In order to help the DBA in choosing the correct indexes, explain him the (search and sorting) behaviour of the application.</li>
<li>Performance issues might require the creation (or deletion) of indexes during the lifetime of the db. Indexes do not contribute to the versioning of the database.</li>
<li>Naming: IN_&lt;table name&gt;_&lt;specification&gt; where specification describes function of index or columns included</li>
<li>IN_Measurement_MeasurementStatusID for an index on the MeasurementStatusID column of the Measurement table.</li>
<li>This example creates an index on the SpeciesID column of the Measurement table. Non-clustered indexes are always created on the INDEXES filegroup:</li>
</ul>
<pre tabindex="0"><code>CREATE NONCLUSTERED INDEX IN_Measurement_SpeciesID ON Measurement(SpeciesID) ON INDEXES;
</code></pre><ul>
<li>Example on how to enforce the primary key using a clustered index. Clustered indexes ares always created on the DATA filegroup:</li>
</ul>
<pre tabindex="0"><code>ALTER TABLE Measurement ADD     
   CONSTRAINT PK_Measurement PRIMARY KEY CLUSTERED (ID) ON DATA;
</code></pre><h1 id="views">Views<a href="#views" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Stored queries.</li>
<li>Views can be updatable.</li>
<li>For creation of indexed views (e.g. on calculated columns)  consult the DBA.</li>
<li>Don&rsquo;t use ORDER BY in views.</li>
<li>Naming: VW_&lt;logical name&gt;, e.g.
<ul>
<li>VW_ActiveMesearumentStatus, retrieves the currently active measurement statusses</li>
</ul>
</li>
</ul>
<h1 id="synonyms">Synonyms<a href="#synonyms" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Do not use synonyms; they get the databases intertwined.</li>
</ul>
<h1 id="stored-procedures">Stored procedures<a href="#stored-procedures" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>no guidelines yet</li>
</ul>
<h1 id="functions">Functions<a href="#functions" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>no guidelines yet</li>
</ul>
<h1 id="sequences">Sequences<a href="#sequences" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Use IDENTITY column instead of sequence to get an auto-increment behaviour at the table level.</li>
<li>Use sequence to get an auto-increment behaviour across multiple tables (rare).</li>
<li>Naming: SQ_&lt;logical name&gt;</li>
</ul>
<h1 id="security">Security<a href="#security" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>DBA&rsquo;s task to implement security.</li>
<li>Good to know how it&rsquo;s normally implemented.</li>
<li>Permissions are granted to database roles and users are assigned to database roles; the user gets the permissions of the database role to which it is assigned.</li>
<li>Permissions are never granted to users</li>
<li>When possible a user should be assigned to 1 database role only</li>
</ul>
<h1 id="database-roles">Database Roles<a href="#database-roles" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>following custom database roles per database:
<ul>
<li>DR_Admin: has dba permissions on the database; dba can be implement this using following steps
<ul>
<li>grant create permissions for all objects the dba wants to allow to be created (at database level), eg create table</li>
<li>
<ul>
<li>grant alter any schema (at database level)</li>
</ul>
</li>
</ul>
</li>
<li>DR_&lt;schema&gt;_Admin: has dba permissions on the schema <schema> of the database; dba can be implement this using following steps
<ul>
<li>grant create permissions for all objects the dba wants to allow to be created (at database level), eg create table</li>
</ul>
</li>
<li>
<ul>
<li>grant alter (at &lt;schema&gt; level)</li>
</ul>
</li>
<li>DR_Reader: has readonly (R) permissions on all tables and views</li>
<li>DR_App&lt;Application name&gt;: has application specific permissions: developer determines which permissions should be applied on the individual tables</li>
<li>DR_Rpt&lt;Reporting name&gt;</li>
</ul>
</li>
<li>When required extra database roles can be provided</li>
</ul>
<h1 id="users--logins">Users / Logins<a href="#users--logins" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>The terms login (server level) and user (database level) are separate concepts in SQL Server; it&rsquo;s the login that&rsquo;s used in connection string; the login is mapped to a user at the database level; we map both 1 to 1 and refer to it as user.</li>
<li>Each component of an application that interacts with the database needs its own, unique user:
<ul>
<li>unique at INBO level</li>
<li>dedicated user : tracebility</li>
<li>when an application uses multiple services, which interact with the db, each service should have its own user.</li>
<li>when an application connects in different ways to the db (e.g. transactional vs reporting) each functional component should have its own user.</li>
<li>the (application)user is assigned to the DR_App<Application name> role.</li>
</ul>
</li>
<li>Naming: &lt;Application context&gt;_&lt;BusinessRole&gt;, where
<ul>
<li>&lt;application context&gt;: a unique and clear reference to the application that&rsquo;s adressing the database; for INBO-applications this might be the accepted name for the application (e.g. watinawsbusiness, the business service of Watina); for ACD-applications this might be the Nexus group ID (e.g be.inbo.wstaxon, the wstaxon service).</li>
<li>&lt;BusinessRole&gt;: reporter, user, admin</li>
</ul>
</li>
</ul>
<h1 id="documentation">Documentation<a href="#documentation" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Database self explanatory through use of extended properties on
<ul>
<li>database: properties Code, Name, Description and Version</li>
<li>tables: property Description</li>
<li>columns: property Description</li>
</ul>
</li>
<li>Meta about database model and deployed instances in wiki: List of databases</li>
</ul>
<h1 id="code-snippets">Code snippets<a href="#code-snippets" class="anchor"><svg height="22px" viewBox="0 0 24 24" width="22px"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h1>
<ul>
<li>Minimum required for normal table&hellip;</li>
</ul>
<pre tabindex="0"><code>/* create table */
CREATE TABLE Measurement
(
    ID int IDENTITY(1,1) NOT NULL
  /* ... table specific columns
  , MeasurementStatusID int NOT NULL
  , SpeciesID int NOT NULL
  ...*/
  , CreateUser nvarchar(150) NOT NULL
  , CreateDate datetime2(7) NOT NULL
  , UpdateUser nvarchar(150) NULL
  , UpdateDate datetime2(7) NULL
  , RV timestamp NOT NULL);
GO
/* add primary key constraint */
ALTER TABLE Measurement ADD
    CONSTRAINT PK_Measurement PRIMARY KEY CLUSTERED (ID) ON DATA;
GO
/* add defaults */
ALTER TABLE Measurement ADD 
    CONSTRAINT CD_Measurement_CreateUser  DEFAULT (SUSER_NAME()) FOR CreateUser
  , CONSTRAINT CD_Measurement_CreateDate  DEFAULT (GETDATE()) FOR CreateDate;
GO
/* add foreign key constraints */
/* eg
ALTER TABLE Measurement ADD 
    CONSTRAINT FK_Measurement_MeasurementStatus FOREIGN KEY(MeasurementStatusID) REFERENCES MeasurementStatus (ID)
  , CONSTRAINT FK_Measurement_Species FOREIGN KEY(SpeciesID) REFERENCES Species (ID);
GO
*/
/* add indexes */
/* eg on foreign key columns */
/*
CREATE NONCLUSTERED INDEX IN_Measurement_MeasurementStatusID ON Measurement(MeasurementStatusID) ON INDEXES;
CREATE NONCLUSTERED INDEX IN_Measurement_SpeciesID ON Measurement(SpeciesID) ON INDEXES;
GO
*/
/* add trigger that updates audit columns */
CREATE TRIGGER TR_Measurement_AU
  ON Measurement
  AFTER UPDATE
  AS
   BEGIN
    SET NOCOUNT ON;
    UPDATE t
    SET   t.UpdateDate = GETDATE()
        , t.UpdateUser = SUSER_SNAME()
    FROM Measurement t
    INNER JOIN inserted i ON i.ID = t.ID;
   END
;
GO
/* add data dictionary */
/* (you can leave this up to the dba if you have a properly formatted list of table and column names with their description */
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'The measurements of ....lorem ipsum dolor.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Measurement';

GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Measurement ID.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Measurement'
  , @level2type=N'COLUMN',@level2name=N'ID';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Creation user.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Measurement'
  , @level2type=N'COLUMN',@level2name=N'CreateUser';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Creation date.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Measurement'
  , @level2type=N'COLUMN',@level2name=N'CreateDate';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Last update user.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Measurement'
  , @level2type=N'COLUMN',@level2name=N'UpdateUser';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Last update date.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Measurement'
  , @level2type=N'COLUMN',@level2name=N'UpdateDate';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Row version.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Measurement'
  , @level2type=N'COLUMN',@level2name=N'RV';
GO
</code></pre><ul>
<li>Minimum required for code tables, controlled vocabularies, &hellip;</li>
</ul>
<pre tabindex="0"><code>/* create table */
CREATE  TABLE Method
(
    ID int IDENTITY(1,1) NOT NULL
  , Code nvarchar(10) NOT NULL
  , [Description] nvarchar(200) NOT NULL
  , SortOrder int NOT NULL
  , CreateUser nvarchar(50) NULL
  , CreateDate datetime2(7) NOT NULL
  , UpdateUser nvarchar(50) NULL
  , UpdateDate datetime2(7) NULL
  , RV timestamp NOT NULL
);
GO
/* add primary key constraint */
ALTER TABLE Method ADD
    CONSTRAINT PK_Method PRIMARY KEY CLUSTERED (ID) ON DATA;
GO
/* add defaults */
ALTER TABLE Method ADD 
    CONSTRAINT CD_Method_SortOrder  DEFAULT (0) FOR SortOrder
  , CONSTRAINT CD_Method_CreateUser  DEFAULT (SUSER_NAME()) FOR CreateUser       
  , CONSTRAINT CD_Method_CreateDate  DEFAULT (GETDATE()) FOR CreateDate
 
GO
/* add trigger that updates audit columns */
CREATE TRIGGER [TR_Method_AU]
  ON [Method]
  AFTER UPDATE
  AS
   BEGIN

    SET NOCOUNT ON;
    UPDATE t
    SET   t.UpdateDate = GETDATE()
        , t.UpdateUser = SUSER_SNAME()
    FROM Method t
    INNER JOIN inserted i ON i.ID = t.ID;
   END;
GO

/* add data dictionary */
/* (you can leave this up to the dba if you have a properly formatted list of table and column names with their description */
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'The observation methods.'    
  , @level0type=N'SCHEMA',@level0name=N'dbo'   
  , @level1type=N'TABLE',@level1name=N'Method';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Method ID.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'ID';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Method code. This codes must be unique at a certain point of time.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'Code';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Method description.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'Description';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'The index of the item when the list is sorted, eg in dropdownboxes.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'SortOrder';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Creation user.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'CreateUser';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Creation date.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'CreateDate';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Last update user.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'UpdateUser';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Last update date.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'UpdateDate';
GO
EXEC sys.sp_addextendedproperty
    @name=N'Description', @value=N'Row version.'
  , @level0type=N'SCHEMA',@level0name=N'dbo'
  , @level1type=N'TABLE',@level1name=N'Method'
  , @level2type=N'COLUMN',@level2name=N'RV';
</code></pre></div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='categories'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
<span class='screen-reader-text'>Categories: </span><a class='category' href='/categories/styleguide/'>styleguide</a>, <a class='category' href='/categories/databases/'>databases</a></div>
<div class='tags'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='/tags/database/'>database</a>, <a class='tag' href='/tags/styleguide/'>styleguide</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/tutorials/spatial_point_in_polygon/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>How to make spatial joins (point in polygon)?</a>
    </div><div class='next-entry sep-before'>
      <a href='/tutorials/vignette_inborutils_gbif_name_match/'>
        <span class='screen-reader-text'>Next post: </span>inborutils: GBIF scientific name matching<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><div class='copyright'>
  <p><a href="http://creativecommons.org/licenses/by/4.0/"><img src="https://inbo.github.io/tutorials/images/cc-by.svg" alt="CC BY 4.0"></a> &copy; 2018-2024 Research Institute for Nature and Forest (INBO) </p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="/assets/js/"</script>

<script src='/assets/js/main.c3bcf2df.js'></script><script src='/js/custom.js'></script>

</body>

</html>

